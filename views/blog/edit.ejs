<% include ../partials/header %>
<div class="ui text container">
    <h1>Write a new post</h1>
    <form class="ui form" action="/blog/<%= post._id %>?_method=PUT" method="POST">
        <div class="field">
            <label>Title</label>
            <input type="text" name="post[title]" value="<%= post.title %>">
        </div>
        <div class="field">
                <label>Description</label>
                <input type="text" name="post[description]" value="<%= post.description %>">
        </div>
        <div class="field">
                <label>Image URL</label>
                <input type="text" name="post[image]" value="<%= post.image %>">
        </div>
        <div class="ui segment">
            <div class="field">
                <label>Current Image</label>
                <img class="image" src="<%= post.image %>">
            </div>
        </div>
        <div class="field">
                <label>Content</label>
                <input type="hidden" id="bodyInput" name="post[body]" value="">
                <div id="editor" style="height:300px">
                    <%- post.body %>
                </div>
        </div>
        <button id="submitButton" class="ui blue button">Submit</button>
    </form>
</div>


<script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
<script>
    
var quill = new Quill('#editor', {
        theme: 'snow',
        
});


var submitButton = document.getElementById('submitButton');

submitButton.addEventListener('mouseover', function(){
    var quillEditorData = document.querySelector('.ql-editor').innerHTML;
    var bodyInput = document.getElementById('bodyInput');
    bodyInput.value = quillEditorData;
});

</script>
<% include ../partials/footer %>